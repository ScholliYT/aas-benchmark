#!/bin/bash

echo "algorithm,pattern_length,inspections" > "data/gcat_periodic_alphbabet_inspections_length_2_to_10.csv"

declare -a PatternArray=(
  "TT" "CC" "GG" "GGG" "TTT" "AAA" "CCC" "GAGA" "TTTT" "GGGG" "CGCG" "AAAA" "CACA" "TCTC" "CTCT" "CCCC" "TATA" "AGAG" "ATAT" "GCGC" "GGGGG" "CGCGC" "TCTCT" "CACAC" "AAAAA" "ACACA" "CCCCC" "GAGAG" "GTGTG" "ATATA" "TTTTT" "CTCTC" "TATAT" "TGTGT" "AGAGA" "TTATTA" "ACCACC" "GATGAT" "CCCCCC" "TTGTTG" "TAGTAG" "ATATAT" "ATAATA" "CGGCGG" "ATGATG" "CTACTA" "TTCTTC" "AAGAAG" "CCGCCG" "CGCCGC" "CACACA" "GTCGTC" "TGATGA" "TAATAA" "TGTGTG" "CTGCTG" "CGCGCG" "AGAAGA" "CCACCA" "GCCGCC" "CCTCCT" "AGTAGT" "GCAGCA" "AAAAAA" "ACACAC" "TACTAC" "ACAACA" "TCATCA" "ACTACT" "CTCTCT" "ACGACG" "TTTTTT" "TGCTGC" "GTTGTT" "GTGTGT" "CGACGA" "GAAGAA" "ATCATC" "GCTGCT" "ATTATT" "CTCCTC" "GGAGGA" "CAACAA" "GGTGGT" "CATCAT" "CACCAC" "GGGGGG" "TCCTCC" "TGTTGT" "AACAAC" "TATTAT" "CAGCAG" "GCGCGC" "GAGAGA" "GTGGTG" "TATATA" "TCGTCG" "GGCGGC" "CGACGAC" "AGGAGGA" "GAGAGAG" "CAGCAGC" "ATAATAA" "AGAAGAA" "TGTTGTT" "ACTACTA" "CCTCCTC" "ACCACCA" "TATATAT" "GCCGCCG" "CTCTCTC" "AATAATA" "GTGTGTG" "TGTGTGT" "AACAACA" "CCGCCGC" "CGGCGGC" "GACGACG" "TTATTAT" "ATATATA" "CTCCTCC" "TCTTCTT" "CTGCTGC" "TGATGAT" "GTGGTGG" "TGGTGGT" "TACTACT" "TCCTCCT" "TGCTGCT" "TAGTAGT" "AAGAAGA" "TTCTTCT" "GATGATG" "AGTAGTA" "GCGGCGG" "ACAACAA" "GGAGGAG" "AAAAAAA" "GGGGGGG" "AGCAGCA" "TCATCAT" "ATTATTA" "GCAGCAG" "CACCACC" "CACACAC" "TTGTTGT" "ACGACGA" "CTACTAC" "ATCATCA" "CATCATC" "GTAGTAG" "ATGATGA" "TAATAAT" "GGTGGTG" "AGAGAGA" "GGCGGCG" "CTTCTTC" "ACACACA" "GAAGAAG" "CAACAAC" "GCTGCTG" "TTTTTTT" "CCCCCCC" "GAGGAGG" "GTCGTCG" "ACTAACTA" "GGATGGAT" "TTATTATT" "GTGGGTGG" "ACTGACTG" "ACAACAAC" "ACCAACCA" "TTGTTTGT" "GTTGGTTG" "AGACAGAC" "AGGAAGGA" "TGTTGTTG" "TGCTGCTG" "GCCCGCCC" "TTGTTGTT" "CTCACTCA" "CATGCATG" "ACCACCAC" "GAACGAAC" "AACCAACC" "GTCGTCGT" "ATGATGAT" "CGGTCGGT" "GTTAGTTA" "AGGTAGGT" "AAGAAGAA" "CCGCCGCC" "TATTATTA" "AGCAAGCA" "TGTTTGTT" "TCGCTCGC" "TAATTAAT" "TCACTCAC" "GTAGTAGT" "ACATACAT" "CGTCCGTC" "AGCTAGCT" "GGACGGAC" "TATGTATG" "GGCTGGCT" "TGTATGTA" "TGTGTGTG" "CTAGCTAG" "TCATTCAT" "AGTCAGTC" "ATAGATAG" "TCAGTCAG" "CCATCCAT" "TGCTTGCT" "TACGTACG" "GACAGACA" "AATCAATC" "GTCGGTCG" "CAGTCAGT" "GTTCGTTC" "ACGTACGT" "TAGATAGA" "CGCGCGCG" "ATTCATTC" "TCGATCGA" "AAACAAAC" "TGATTGAT" "GACGGACG" "TTGATTGA" "GAAGGAAG" "ACCCACCC" "GTTTGTTT" "TAATAATA" "CCGGCCGG" "CCTGCCTG" "AGGAGGAG" "GGTGGGTG" "ATCAATCA" "TTAATTAA" "CAGACAGA" "GTAGGTAG" "CCCGCCCG" "CGGCGGCG" "CTGGCTGG" "GTCAGTCA" "TAGCTAGC" "TGATGATG" "TTACTTAC" "CCGACCGA" "CTCGCTCG" "TCAATCAA" "GAATGAAT" "CTCTCTCT" "CAGCAGCA" "GCTCGCTC" "ACTACTAC" "GGTCGGTC" "AGTAGTAG" "AGAAGAAG" "CTGACTGA" "GGGGGGGG" "GGCAGGCA" "CGATCGAT" "TTTATTTA" "GAAAGAAA" "AGCAAGCAA" "TGCTGCTGC" "CTACTACTA" "TCAATCAAT" "CGGTCGGTC" "CAGCCAGCC" "TTTTTTTTT" "ACCGACCGA" "CGACCGACC" "CTATCTATC" "GTGTGTGTG" "CAAACAAAC" "TAGCTAGCT" "TCATTCATT" "GCTAGCTAG" "TGGGTGGGT" "CAGGCAGGC" "TGGATGGAT" "GGCTGGCTG" "ACGGACGGA" "TCCTCCTCC" "TCTATCTAT" "ATGAATGAA" "GTATGTATG" "GATCGATCG" "TTATTATTA" "GACCGACCG" "CCGCCGCCG" "ATTATTATT" "TTCGTTCGT" "GGGAGGGAG" "CCTTCCTTC" "ACCTACCTA" "ACCCACCCA" "ACAGACAGA" "CAATCAATC" "ATTCATTCA" "GTCGTCGTC" "TACTACTAC" "GTAAGTAAG" "GTACGTACG" "TGCCTGCCT" "TTCATTCAT" "ATTGATTGA" "GCACGCACG" "TCAGTCAGT" "GTGGGTGGG" "TCGCTCGCT" "TGAATGAAT" "GTAGTAGTA" "GGCAGGCAG" "TAATAATAA" "TGTATGTAT" "TACTTACTT" "CATACATAC" "GTTGTTGTT" "TAGTTAGTT" "AACAAACAA" "AGGAAGGAA" "ATCAATCAA" "CTCCCTCCC" "ATGTATGTA" "GAAAGAAAG" "GCCTGCCTG" "ACTACTACT" "GAGCGAGCG" "TTTATTTAT" "CCATCCATC" "AATGAATGA" "TCGATCGAT" "ACTGACTGA" "TTCTTCTTC" "GACTGACTG" "CCACCCACC" "CGGACGGAC" "GCCGCCGCC" "CGGCGGCGG" "GCCAGCCAG" "GTAGGTAGG" "TATCTATCT" "TTACTTACT" "CTGGCTGGC" "CCAACCAAC" "GCAGGCAGG" "TAAGTAAGT" "AGAGAGAGA" "TGATGATGA" "CCCCCCCCC" "ACTTACTTA" "GATGGATGG" "CGCACGCAC" "GTCTGTCTG" "TGACTGACT" "CAAGCAAGC" "GCGCGCGCG" "CTTACTTAC" "CAACAACAA" "CGCCCGCCC" "TTAATTAAT" "AAGAAAGAA" "AGAGAAGAGA" "GAACGAACGA" "TATCATATCA" "TCCCTCCCTC" "TCTTCTCTTC" "ATAATAATAA" "GTCCAGTCCA" "TCGGCTCGGC" "AATGCAATGC" "AACTCAACTC" "ACAGACAGAC" "CATACATACA" "ATGAATGAAT" "CAGCACAGCA" "GGTCTGGTCT" "GTAGTGTAGT" "ACACACACAC" "CGGGGCGGGG" "TGGGCTGGGC" "TGTTGTGTTG" "CGAGCGAGCG" "TTTAATTTAA" "AGCGAGCGAG" "GTTGGTTGGT" "TTTTGTTTTG" "TACCCTACCC" "TCGCTTCGCT" "AGCAAAGCAA" "GGGTAGGGTA" "CCTAGCCTAG" "ACCGCACCGC" "CTAATCTAAT" "TTTTATTTTA" "GAGGTGAGGT" "TGGCATGGCA" "TTTTCTTTTC" "AGCGTAGCGT" "TGGATTGGAT" "GTTTAGTTTA" "ACCCAACCCA" "GTGAGTGAGT" "TGACTGACTG" "GCTAGCTAGC" "GCCGTGCCGT" "GGGTGGGTGG" "TGTTATGTTA" "CGTAGCGTAG" "CCATGCCATG" "AGGCCAGGCC" "GGTGTGGTGT" "ATGTAATGTA" "CCTCCCTCCC" "AATCAAATCA" "GACTCGACTC" "CACTTCACTT" "GGCTAGGCTA" "TTGAATTGAA" "CCGCACCGCA" "TATCGTATCG" "ATCACATCAC" "CGGGTCGGGT" "GCAAGGCAAG" "TGAATTGAAT" "GCGGGCGGGC" "TTCCTTTCCT" "GTTGCGTTGC" "CAATCAATCA" "AGTTCAGTTC" "CCGTCCGTCC" "TTAGGTTAGG" "CCACCCACCC" "TATCTATCTA" "AGGAAAGGAA" "CGCGCGCGCG" "CCACTCCACT" "CGAGACGAGA" "GGAAGGGAAG" "CGGTGCGGTG" "CCTATCCTAT" "GCTCCGCTCC" "GGCCTGGCCT" "TTCCTTCCTT" "GGCGCGGCGC" "AGAAAAGAAA" "AAGGCAAGGC" "GGCTCGGCTC" "TCAAGTCAAG" "CTACTACTAC" "ATGATATGAT" "GCTGAGCTGA" "GCTGGCTGGC" "GTTAAGTTAA" "TTTATTTATT" "CGCCACGCCA" "TGCGTTGCGT" "TATACTATAC" "TTCATTCATT" "TTTAGTTTAG" "GGCCAGGCCA" "TGGCTGGCTG"
)

for pattern in "${PatternArray[@]}"
do
    echo "Pattern: " $pattern

    output=$(./target/release/aas-benchmark wbm,wmbm,wtbm -n 1 --tf datasets/gcat_text_1e7.txt --noheader --pa $pattern)
    rgx='BM Read count: ([0-9]+).*Mem BM Read count: ([0-9]+).*Turbo BM Read count: ([0-9]+)'

    if [[ $output =~ $rgx ]]
    then
        bmcount=${BASH_REMATCH[1]}
        mbmcount=${BASH_REMATCH[2]}
        tbmcount=${BASH_REMATCH[3]}

        plen=${#pattern}
        echo "Weak Boyer Moore,$plen,$bmcount" >> "data/gcat_periodic_alphbabet_inspections_length_2_to_10.csv"
        echo "Weak Memorizing Boyer Moore,$plen,$mbmcount" >> "data/gcat_periodic_alphbabet_inspections_length_2_to_10.csv"
        echo "Weak Turbo Boyer Moore,$plen,$tbmcount" >> "data/gcat_periodic_alphbabet_inspections_length_2_to_10.csv"
    else
        echo "you fucked up!"
    fi
done

